{"ast":null,"code":"import { Loader } from './Loader.js';\nimport errorHandler from '../errorHandler.js';\nexport default class {\n  constructor(canvas, width, height, THREE) {\n    if (this.setCanvasSize(canvas, width, height)) {\n      this.draw(canvas, width, height, THREE);\n    } else {\n      errorHandler('Rendering', 'constructor', 'setCanvasSize', 'canvas');\n    }\n  }\n\n  setCanvasSize(canvas, width, height) {\n    try {\n      canvas.width = width;\n      canvas.height = height;\n      return true;\n    } catch (e) {\n      return e;\n    }\n  }\n\n  draw(canvas, width, height, THREE) {\n    try {\n      let renderer = this.Renderer(canvas, THREE);\n      let scene = this.Scene(THREE);\n      let camera = this.Camera(width, height, THREE);\n      let light = this.Light(THREE);\n\n      try {\n        scene.add(Loader(THREE));\n        scene.add(light);\n        renderer.render(scene, camera);\n        let controls = new THREE.OrbitControls(camera); // controls.update() must be called after any manual changes to the camera's transform\n        // после любых ручных изменений состояния камеры должен быть вызван controls.update()\n\n        camera.position.set(0, 20, 100);\n        controls.update();\n      } catch (e) {\n        errorHandler('Rendering', 'draw_2', e, 'canvas');\n      }\n    } catch (e) {\n      errorHandler('Rendering', 'draw_1', e, 'canvas');\n    }\n  }\n\n  Light(THREE) {\n    try {\n      let light = new THREE.AmbientLight(0xffffff);\n      return light;\n    } catch (e) {\n      errorHandler('Rendering', 'Light', e, 'canvas');\n    }\n  }\n\n  Camera(width, height, THREE) {\n    try {\n      let camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 3000);\n      camera.position.set(0, 0, 1000);\n      return camera;\n    } catch (e) {\n      errorHandler('Rendering', 'Camera', e, 'canvas');\n    }\n  }\n\n  Scene(THREE) {\n    try {\n      const scene = new THREE.Scene();\n      scene.background = new THREE.Color('black');\n      return scene;\n    } catch (e) {\n      errorHandler('Rendering', 'Scene', e, 'canvas');\n    }\n  }\n\n  Renderer(canvas, THREE) {\n    try {\n      const rend = new THREE.WebGLRenderer({\n        canvas\n      });\n      return rend;\n    } catch (e) {\n      errorHandler('Rendering', 'Renderer', e, 'canvas');\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/neuromancer/projects/YodaTeam/frontend/geetech/src/components/Blocks/scripts/Three/Renderering.js"],"names":["Loader","errorHandler","constructor","canvas","width","height","THREE","setCanvasSize","draw","e","renderer","Renderer","scene","Scene","camera","Camera","light","Light","add","render","controls","OrbitControls","position","set","update","AmbientLight","PerspectiveCamera","background","Color","rend","WebGLRenderer"],"mappings":"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","sourcesContent":["import { Loader } from './Loader.js';\nimport errorHandler from '../errorHandler.js'\n\nexport default class{\n    constructor(canvas, width, height, THREE) {\n        if(this.setCanvasSize(canvas, width, height)){\n            this.draw(canvas, width, height, THREE);\n        }\n        else{\n            errorHandler('Rendering', 'constructor', 'setCanvasSize', 'canvas');\n        }\n    }\n\n    setCanvasSize(canvas, width, height){\n        try{\n            canvas.width = width\n            canvas.height = height\n            return true;\n        }\n        catch(e){\n            return e;\n        }\n    }\n\n    draw(canvas, width, height, THREE){\n        try{\n            let renderer = this.Renderer(canvas, THREE);\n            let scene = this.Scene(THREE);\n            let camera = this.Camera(width, height, THREE);\n            let light = this.Light(THREE);\n            \n            try{\n                scene.add(Loader(THREE));\n                scene.add(light)\n                renderer.render(scene, camera);\n                let controls = new THREE.OrbitControls( camera );\n\n                // controls.update() must be called after any manual changes to the camera's transform\n                // после любых ручных изменений состояния камеры должен быть вызван controls.update()\n                camera.position.set( 0, 20, 100 );\n                controls.update();\n            }\n            catch(e){\n                errorHandler('Rendering', 'draw_2', e, 'canvas');\n            }\n        }\n        catch(e){\n            errorHandler('Rendering', 'draw_1', e, 'canvas');\n        }\n    }\n    Light(THREE){\n        try{\n            let light = new THREE.AmbientLight(0xffffff);\n            return light;\n        }\n        catch(e){\n            errorHandler('Rendering', 'Light', e, 'canvas');\n        }\n    }\n    Camera(width, height, THREE){\n        try{\n            let camera = new THREE.PerspectiveCamera(45, width/height, 0.1, 3000);\n            camera.position.set(0, 0, 1000);\n            return camera;\n        }\n        catch(e){\n            errorHandler('Rendering', 'Camera', e, 'canvas');\n        }\n    }\n    Scene(THREE){\n        try{\n            const scene = new THREE.Scene;\n            scene.background = new THREE.Color('black');\n            return scene;\n        }\n        catch(e){\n            errorHandler('Rendering', 'Scene', e, 'canvas');\n        }\n    }\n    Renderer(canvas, THREE){\n        try{\n            const rend =  new THREE.WebGLRenderer({canvas});\n            return rend;\n        }\n        catch(e){\n            errorHandler('Rendering', 'Renderer', e, 'canvas');\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}